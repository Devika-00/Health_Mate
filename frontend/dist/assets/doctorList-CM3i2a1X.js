import{r as i,A as d,h as m,j as e,L as p,i as f}from"./index-DvlxLBRP.js";import{A as j}from"./Header-ZlTyL-gU.js";import{A as N}from"./Sidebar-DzBIodx0.js";import{a as x}from"./axiosService-CDsI4QPu.js";import{s as u}from"./toaster-HDMX5aEB.js";import"./index-BHqEmgZs.js";import"./iconBase-ZWK5A-To.js";import"./axios-Cm0UX6qg.js";import"./index-VWaDGczM.js";const b=()=>{const[l,c]=i.useState([]);return i.useEffect(()=>{x.get(d+"/doctors",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}).then(({data:a})=>{c(a.doctors)}).catch(a=>console.log(a))},[]),{doctors:l,setDoctors:c}},g=()=>{const{doctors:l,setDoctors:c}=b(),a=m(),o=l.filter(s=>s.isApproved),[n]=i.useState(1),h=s=>{const r=l.map(t=>(s._id===t._id&&(s.isBlocked=!s.isBlocked,s.isBlocked&&a(f())),t));c(r),x.patch(d+`/block_doctor/${s._id}`).then(t=>{t.data.success&&!t.data.doctor.isBlocked&&u(t.data.message)}).catch(t=>console.log(t))};return e.jsx(e.Fragment,{children:o.map((s,r)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-white",children:n+r}),e.jsx("td",{className:"px-6 py-4 text-left",children:s.doctorName}),e.jsx("td",{className:"px-6 py-4 text-left",children:s.email}),e.jsx("td",{className:"px-6 py-4 text-left",children:s.department}),e.jsx("td",{className:"px-6 py-4 text-left",children:s.isVerified?"Yes":"No"}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.isBlocked?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:s.isBlocked?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx(p,{to:`/admin/doctors/${s._id}`,className:"text-blue-500 hover:underline",children:"View Details"})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:s.isBlocked,onChange:()=>h(s),className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${s.isBlocked?"bg-red-500":"bg-primary"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${s.isBlocked?"translate-x-full":""}`})]})})})]},s._id))})},$=()=>e.jsxs("div",{className:"flex h-screen",children:[e.jsx(N,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(j,{}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Doctor List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"Serial No"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Verified"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:e.jsx(g,{})})]})})]})]})]});export{$ as default};
