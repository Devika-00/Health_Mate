import{r as p,u as h,a as g,D as b,c as f,j as e,L as w}from"./index-DMYNC7jJ.js";import{D as j}from"./doctor1-BQCmsY7i.js";import{u as N}from"./formik.esm-BZBJ1U5f.js";import{a as y}from"./validation-DcCHa-Kb.js";import{s as i}from"./toaster-CFPCc5bZ.js";import{a as v}from"./axios-Cm0UX6qg.js";const k=()=>{const[a,r]=p.useState(!1),l=h(),n=g(),s=N({initialValues:{email:"",password:""},validate:y,onSubmit:({email:c,password:d})=>{r(!0),v.post(b+"/login",{email:c,password:d}).then(({data:t})=>{const o=t.accessToken,{doctorName:m,role:u,_id:x}=t.doctor;localStorage.setItem("access_token",o),i(t.message,"success"),n(f({isAuthenticated:!0,name:m,role:u,id:x})),setTimeout(()=>{l("/doctor")},1e3)}).catch(({response:t})=>{const{message:o}=t.data;r(!1),i(o,"error")})}});return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-cover bg-center",style:{backgroundImage:`url(${j})`},children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 mx-4 w-full max-w-md",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-blue-950",children:"Welcome Back!"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Your Email",...s.getFieldProps("email")}),s.errors.email&&s.touched.email&&e.jsx("div",{className:"text-red-500",children:s.errors.email})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Your Password",...s.getFieldProps("password")}),s.errors.password&&s.touched.password&&e.jsx("div",{className:"text-red-500",children:s.errors.password})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{className:"bg-blue-900 hover:bg-blue-700 text-white font-bold py-2 px-8 mt-2 rounded focus:outline-none focus:shadow-outline",type:"submit",disabled:a,children:a?"Logging in...":"Login"})})]}),e.jsxs("p",{className:" mt-3 text-sm text-gray-700 flex justify-center",children:["Don't have an account?"," ",e.jsx(w,{to:"/doctor/register",className:"text-blue-900 underline",children:"Sign Up"})]})]})})},E=()=>e.jsx(k,{});export{E as default};
