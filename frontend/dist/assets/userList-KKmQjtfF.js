import{r as c,j as e,A as i}from"./index-BYvMFPho.js";import{a as d}from"./axiosService-Bni2Pzuv.js";import{s as p}from"./toaster-DoRZrACs.js";import{A as f}from"./Header-Cfwx4IJ3.js";import{A as u}from"./Sidebar-NfD8sCQR.js";import"./axios-Cm0UX6qg.js";import"./index-VWaDGczM.js";import"./index-BmeXuViM.js";import"./iconBase-CCiUsomW.js";const j=({_id:r,name:s,email:t,isBlocked:o,index:x})=>{const[a,n]=c.useState(o),h=()=>{n(!a),d.patch(i+`/block_user/${r}`).then(l=>{l.data.success&&!l.data.user.isBlocked&&p(l.data.message)}).catch(l=>console.log(l))},m=x+1;return e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-white",children:m}),e.jsx("td",{className:"px-6 py-4 text-left",children:s}),e.jsx("td",{className:"px-6 py-4 text-left",children:t}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:a?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:h,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${a?"bg-red-500":"bg-primary"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${a?"translate-x-full":""}`})]})})})]})},N=()=>{const[r,s]=c.useState([]);return c.useEffect(()=>{d.get(i+"/users",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}).then(({data:t})=>{s(t.users)}).catch(t=>console.log(t))},[s]),{users:r,setUsers:s}},E=()=>{const{users:r}=N();return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(u,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(f,{}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"User List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"Serial No"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:r.map((s,t)=>c.createElement(j,{...s,index:t,key:s._id}))})]})})]})]})]})};export{E as default};
